# [0037. ç¬¬ä¸€ä¸ª Node.js æœåŠ¡å™¨ç¨‹åº - Hello World](https://github.com/Tdahuyou/TNotes.nodejs/tree/main/notes/0037.%20%E7%AC%AC%E4%B8%80%E4%B8%AA%20Node.js%20%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%A8%8B%E5%BA%8F%20-%20Hello%20World)

<!-- region:toc -->

- [1. ğŸ’» demos.1 - Hello World](#1--demos1---hello-world)
- [2. ğŸ’» demos.2 - å¦‚æœè¦å“åº”ä¸­æ–‡ï¼Œéœ€è¦è®¾ç½®ç¼–ç æ–¹å¼ä¸º UTF-8 æ¥é¿å…ä¹±ç çš„é—®é¢˜](#2--demos2---å¦‚æœè¦å“åº”ä¸­æ–‡éœ€è¦è®¾ç½®ç¼–ç æ–¹å¼ä¸º-utf-8-æ¥é¿å…ä¹±ç çš„é—®é¢˜)

<!-- endregion:toc -->

## 1. ğŸ’» demos.1 - Hello World

::: code-group

```js [demos/1/index.cjs]
// åŠ è½½ Node.js å†…ç½®çš„ http æ¨¡å—
const http = require('http')

// åœ¨æ§åˆ¶å°è¾“å‡ºæç¤ºä¿¡æ¯ï¼Œå¼•å¯¼ç”¨æˆ·è®¿é—®æŒ‡å®šåœ°å€
console.log('è¯·æ‰“å¼€æµè§ˆå™¨ï¼Œè¾“å…¥åœ°å€ http://127.0.0.1:3000/')

// ä½¿ç”¨ http.createServer åˆ›å»ºä¸€ä¸ª HTTP æœåŠ¡å™¨
http
  .createServer((req, res) => {
    // reqï¼ˆè¯·æ±‚å¯¹è±¡ï¼‰ï¼šåŒ…å«å®¢æˆ·ç«¯å‘é€çš„è¯·æ±‚ä¿¡æ¯ï¼Œä¾‹å¦‚ URLã€HTTP æ–¹æ³•ç­‰ã€‚
    // resï¼ˆå“åº”å¯¹è±¡ï¼‰ï¼šç”¨äºå‘å®¢æˆ·ç«¯å‘é€å“åº”æ•°æ®ã€‚

    // ä½¿ç”¨ res.end æ–¹æ³•ç»“æŸå“åº”ï¼Œå¹¶å‘é¡µé¢è¾“å‡º "Hello World!" æ–‡æœ¬
    res.end('Hello World!')

    // åœ¨æ§åˆ¶å°è¾“å‡ºæ—¥å¿—æç¤ºï¼Œè¡¨ç¤ºæœåŠ¡å™¨å·²æ­£ç¡®å¤„ç†è¯·æ±‚
    console.log('è¯·æ±‚å·²å¤„ç†')
  })
  // ä½¿ç”¨ listen æ–¹æ³•å¯åŠ¨æœåŠ¡å™¨ï¼Œç›‘å¬æŒ‡å®šçš„ IP åœ°å€å’Œç«¯å£å·
  .listen(3000, '127.0.0.1')
```

:::

- æœ€ç»ˆæ•ˆæœï¼š
  - æ‰§è¡Œ `node index.cjs` å¯åŠ¨æœåŠ¡ã€‚
  - æ‰“å¼€æµè§ˆå™¨è¾“å…¥åœ°å€ http://127.0.0.1:3000/ è®¿é—®æœåŠ¡ã€‚
    - ![å›¾ 1](https://cdn.jsdelivr.net/gh/Tdahuyou/imgs@main/2025-04-04-11-15-49.png)
  - æ§åˆ¶å°æ—¥å¿—ï¼š
    - ![å›¾ 2](https://cdn.jsdelivr.net/gh/Tdahuyou/imgs@main/2025-04-04-11-16-35.png)
- **ğŸ¤” é—®ï¼šä¸ºä»€ä¹ˆè¿™é‡Œè¦å‘½åä¸º index.cjs å‘¢ï¼Œä¸èƒ½ç›´æ¥å†™ index.js å—ï¼Ÿ**
  - åœ¨ Node.js ä¸­ï¼Œå¦‚æœé¡¹ç›®çš„ `package.json` æ–‡ä»¶ä¸­è®¾ç½®äº† `"type": "module"`ï¼Œåˆ™é»˜è®¤ä½¿ç”¨ ES Module è§„èŒƒï¼ˆå³ `import` å’Œ `export`ï¼‰ï¼Œè€Œä¸æ˜¯ CommonJS è§„èŒƒï¼ˆå³ `require` å’Œ `module.exports`ï¼‰ã€‚
  - å¦‚æœåœ¨ `"type": "module"` çš„é¡¹ç›®ä¸­ä½¿ç”¨ `require`ï¼Œä¼šæŠ¥é”™ï¼š
    - `ReferenceError: require is not defined in ES module scope, you can use import instead`
    - ![å›¾ 0](https://cdn.jsdelivr.net/gh/Tdahuyou/imgs@main/2025-04-04-11-07-56.png)
  - **è§£å†³æ–¹æ³•**ï¼š
    - å°†æ–‡ä»¶æ‰©å±•åæ”¹ä¸º `.cjs`ï¼Œæ˜ç¡®å‘Šè¯‰ Node.js ä½¿ç”¨ CommonJS è§„èŒƒåŠ è½½æ¨¡å—ã€‚
    - æˆ–è€…ï¼Œç§»é™¤ `package.json` ä¸­çš„ `"type": "module"` é…ç½®ï¼Œè®©é¡¹ç›®é»˜è®¤ä½¿ç”¨ CommonJS è§„èŒƒã€‚

::: tip

å¦‚æœé¡¹ç›®éœ€è¦åŒæ—¶æ”¯æŒ CommonJS å’Œ ES Moduleï¼Œå¯ä»¥å°† CommonJS æ–‡ä»¶å‘½åä¸º `.cjs`ï¼Œå°† ES Module æ–‡ä»¶å‘½åä¸º `.mjs`ï¼Œä»¥é¿å…å†²çªã€‚

:::

## 2. ğŸ’» demos.2 - å¦‚æœè¦å“åº”ä¸­æ–‡ï¼Œéœ€è¦è®¾ç½®ç¼–ç æ–¹å¼ä¸º UTF-8 æ¥é¿å…ä¹±ç çš„é—®é¢˜

::: code-group

```js [ä¿®æ”¹å‰]
const http = require('http')
console.log('è¯·æ‰“å¼€æµè§ˆå™¨ï¼Œè¾“å…¥åœ°å€ http://127.0.0.1:3000/')
http
  .createServer((req, res) => {
    res.end('ä½ å¥½ï¼Œä¸–ç•Œã€‚')
    console.log('è¯·æ±‚å·²å¤„ç†')
  })
  .listen(3000, '127.0.0.1')
```

```js {6} [ä¿®æ”¹å]
const http = require('http')
console.log('è¯·æ‰“å¼€æµè§ˆå™¨ï¼Œè¾“å…¥åœ°å€ http://127.0.0.1:3000/')
http
  .createServer((req, res) => {
    // è¦æƒ³è®© Node.js ç¨‹åºè¾“å‡ºä¸­æ–‡ï¼Œåªéœ€è¦åœ¨è¾“å‡ºå†…å®¹ä¹‹å‰å°†è¦æ˜¾ç¤ºç½‘é¡µçš„ç¼–ç æ–¹å¼è®¾ç½®ä¸º UTF-8ã€‚
    res.writeHead(200, { 'Content-Type': 'text/html;charset=utf-8' })

    res.end('ä½ å¥½ï¼Œä¸–ç•Œã€‚')
    console.log('è¯·æ±‚å·²å¤„ç†')
  })
  .listen(3000, '127.0.0.1')
```

:::

- æœ€ç»ˆæ•ˆæœï¼š
  - ä¿®æ”¹å‰ï¼š
    - ![å›¾ 3](https://cdn.jsdelivr.net/gh/Tdahuyou/imgs@main/2025-04-04-11-19-19.png)
  - ä¿®æ”¹åï¼š
    - ![å›¾ 4](https://cdn.jsdelivr.net/gh/Tdahuyou/imgs@main/2025-04-04-11-24-00.png)
  - æ³¨ï¼šä¸è¦åœ¨æ„èƒŒæ™¯è‰²ï¼ŒèƒŒæ™¯è‰²ä»…ä»…æ˜¯ä¸ªäººçš„ä¸»é¢˜é…ç½®ï¼Œè·Ÿä¸Šè¿°ç¨‹åºæ²¡æœ‰ä»»ä½•å…³ç³»ã€‚
