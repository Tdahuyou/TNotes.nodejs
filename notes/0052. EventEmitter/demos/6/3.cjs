const { EventEmitter } = require('events')

const eIns = new EventEmitter()

function cb(...args) {
  console.log('[emit event]:', ...args)
}

eIns.on('event', cb) // ç¬¬ä¸€ä¸ª cb
eIns.on('event', cb) // ç¬¬äºŒä¸ª cb
eIns.on('event', cb) // ç¬¬ä¸‰ä¸ª cb

eIns.emit('event', 1)

eIns.off('event', cb) // ğŸ¤” ç§»é™¤çš„ cb æ˜¯ç¬¬å‡ ä¸ª cbï¼Ÿ

eIns.emit('event', 1, 2)

// è¾“å‡ºï¼š
// [emit event]: 1
// [emit event]: 1
// [emit event]: 1
// [emit event]: 1 2
// [emit event]: 1 2

// æ‰©å±• - off çš„é¡ºåºï¼š
// off ç”¨äºç§»é™¤äº‹ä»¶ç›‘å¬å™¨
// ä¸Šè¿°ç¨‹åºå¾€ event èº«ä¸ŠåŒæ—¶æ³¨å†Œäº† 3 æ¬¡ cb
// è¿™ 3 æ¬¡æ³¨å†Œçš„éƒ½æ˜¯åŒä¸€ä¸ªå‡½æ•° cb
// å½“æˆ‘ä»¬æ‰§è¡Œ eIns.off('event', cb) çš„æ—¶å€™
// ä¼šåˆ é™¤æ‰ä¸€ä¸ª cb
// ğŸ¤” è¿™ä¸ªè¢«åˆ é™¤çš„ cb æ˜¯ç¬¬å‡ ä¸ª cb å‘¢ï¼Ÿ
// ç­”ï¼šç¬¬ä¸€ä¸ªè¢«æ³¨å†Œçš„ cbã€‚

// âš ï¸ ä¸çŸ¥é“æ€ä¹ˆå†™ demo éªŒè¯ä¸Šè¿°è¯´æ³•ã€‚

// å¦‚æœåŒä¸€ä¸ªå›è°ƒ cb è¢«æ³¨å†Œ on äº†å¤šæ¬¡ï¼Œåœ¨ç§»é™¤ off çš„æ—¶å€™æ²¡å¿…è¦çº ç»“åˆ çš„æ˜¯ç¬¬å‡ ä¸ª cbã€‚
// è¿™ç§æƒ…å†µæ— è®ºæ˜¯ç§»é™¤æœ€æ—©æ³¨å†Œçš„è¿˜æ˜¯ä¸­é—´æ³¨å†Œçš„è¿˜æ˜¯æœ€åæ³¨å†Œçš„ï¼Œå¯¹æœ€ç»ˆçš„é€»è¾‘éƒ½æ²¡å•¥å½±å“ã€‚
// è‡³å°‘åœ¨è¿™ä¸ª demo ä¸­ï¼Œæ²¡å¿…è¦è¿‡åˆ†çº ç»“åˆ°åº•æ˜¯å“ªä¸ª cb è¢«ç§»é™¤äº†ã€‚
//   åœ¨æ‰§è¡Œ eIns.off('event', cb) ä¹‹å‰ï¼Œå¦‚æœè§¦å‘ event ä¼šæ‰“å° 3 æ¬¡ã€‚
//   åœ¨æ‰§è¡Œ eIns.off('event', cb) ä¹‹åï¼Œå¦‚æœè§¦å‘ event ä¼šæ‰“å° 2 æ¬¡ã€‚
